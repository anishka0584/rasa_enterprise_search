flows:
  pattern_chitchat:
    description: >
      Handles ONLY messages that are purely social small talk with ZERO connection to hotels,
      rooms, travel, bookings, amenities, policies, locations, or anything a hotel could offer.
      ONLY trigger for things like: 'how are you', 'tell me a joke', 'what is the meaning of life',
      'who made you', 'what can you do', 'are you a robot', 'what is your name'.
      Do NOT trigger this for ANY question containing words like: hotel, room, wifi, wi-fi,
      internet, breakfast, pool, gym, parking, pet, dog, cat, check-in, check-out, booking,
      cancel, pay, price, cost, city, location, guest, family, child, cot, crib, discount,
      accessible, wheelchair, air conditioning, ac, helicopter, landing, rooftop, bar, spa,
      restaurant, laundry, shuttle, transfer, airport, taxi, beach, view, floor, balcony,
      early, late, late checkout, late check-out, noise, quiet, smoking, non-smoking,
      is there, do you have, do you offer, can i bring, are there, what time, how much,
      how many, what is, what are, is it, can i, do i, will there, is breakfast, is parking.
      If the message contains ANY question about what a hotel has, offers, allows, or charges —
      even if it is not in the FAQ — ALWAYS use pattern_search instead.
      If in ANY doubt, always choose pattern_search over pattern_chitchat.
    name: pattern chitchat
    steps:
      - action: action_free_chitchat

  pattern_search:
    description: >
      Handles ANY question or statement related to hotels, travel, rooms, amenities, policies,
      bookings, locations, or services — including questions the bot may not know the answer to.
      ALWAYS prefer this over pattern_chitchat for anything hotel or travel related.
      Trigger for questions like:
      'can I bring my dog', 'do you allow pets', 'is there a pet fee',
      'is breakfast included', 'what time is check-in', 'what time is check-out',
      'can I check in early', 'is there parking', 'do you have Wi-Fi', 'is there wifi',
      'what room types are available', 'can I cancel my booking',
      'is there air conditioning', 'are children allowed', 'do you have accessible rooms',
      'what is the cancellation policy', 'how do I pay', 'is there a booking fee',
      'what locations do you cover', 'which cities can I book in', 'where can I book',
      'can I get a discount', 'do you have cribs', 'what is the maximum stay',
      'how many rooms can I book', 'how many guests can I bring',
      'do you have family rooms', 'is there a pool', 'what hotels do you offer',
      'how do I modify my booking', 'is my booking confirmed', 'how do I contact support',
      'is there a helicopter landing', 'is there a rooftop bar', 'is there a spa',
      'is there a restaurant', 'is there a gym', 'is there a shuttle',
      'is there a laundry service', 'do you have a beach', 'is there a balcony',
      'is smoking allowed', 'are there quiet rooms', 'what floor are the rooms on',
      'is there an airport transfer', 'what cities do you cover', 'which city can I book in'.
      This pattern must also trigger for ANY question the bot does not know — so that
      unknown questions get logged for the human team to answer.
      When uncertain between chitchat and search, ALWAYS choose pattern_search.
    name: pattern search
    steps:
      - action: action_trigger_search

  pattern_cancel_flow:
    description: >
      Triggered ONLY when the user wants to STOP and ABORT the current booking process
      right now. Only trigger for very direct commands like: 'cancel', 'stop', 'exit',
      'quit', 'forget it', 'never mind', 'I changed my mind', 'I do not want to book',
      'abort'.
      CRITICAL: Do NOT trigger this for questions ABOUT cancellation policy such as
      'can i cancel my booking', 'what is the cancellation policy', 'how do I cancel',
      'is cancellation free'. Those are FAQ questions and must go to pattern_search.
      Only trigger when the user is clearly commanding the bot to stop the booking
      process entirely, not when they are asking about hotel cancellation policies.
    name: pattern cancel flow
    steps:
      - action: action_cancel_booking
      
  pattern_end_of_conversation:
    description: "Runs at the end of every conversation. Uses a custom action that returns nothing so no closing message is shown."
    name: pattern end of conversation
    steps:
      - action: action_session_end